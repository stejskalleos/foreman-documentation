[id="API"]
== API

Every action in Foreman UI can be also done via API.
Foreman API is accessible at https://{foreman-example-com}/api.

For the documentation of all API resource, go to https://{foreman-example-com}/apidoc or Administer > About > API resource

[[sect-Administering-API-authentication]]
=== Authentication

**Username and password**

You can use your Foreman credentials to access the API
[options="nowrap" subs="+quotes,attributes"]
----
# curl --user username:password https://{foreman-example-com}/api/hosts
----

**Personal access tokens**

Personal access token can be generated at My Account > Personal Access Tokens

[options="nowrap" subs="+quotes,attributes"]
----
# curl --user username:personal_access_token https://{foreman-example-com}/api/hosts
----

[[sect-Administering-API-requests]]
=== Allowed requests

**GET**

Use for getting information about the resource(s).

[options="nowrap" subs="+quotes,attributes"]
----
# curl --user username:password https://{foreman-example-com}/api/users
----

**POST**

For creating resources, requires data in `json`

[options="nowrap" subs="+quotes,attributes"]
----
# curl --request POST --user username:password https://{foreman-example-com}/api/users \
  --data '{"user":{"login":"new_user","password":"testPassword123!", "auth_source_id":"1"}}' \
  -H 'Content-Type: application/json'
----

**PUT**

For updating resources, requires data in `json`

[options="nowrap" subs="+quotes,attributes"]
----
# curl --request PUT --user username:password https://{foreman-example-com}/api/users/:user_id \
  --data '{"user":{"login":"new_login"}}' \
  -H 'Content-Type: application/json'
----

**DELETE**

For deleting resources.

[options="nowrap" subs="+quotes,attributes"]
----
# curl --request DELETE --user username:password https://{foreman-example-com}/api/users/:user_id
----


[[sect-Administering-API-hammer]]
=== Hammer CLI

TODO basic setup of hammer and how to use it (? do we need to describe it at all?)
